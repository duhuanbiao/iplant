var Tpl={};Tpl.error='<div class="error animated fadeIn">\n    <img src="//img.alicdn.com/tps/i2/TB1vUokHpXXXXX7XXXX4cfV2pXX-220-120.png">\n</div>',Tpl.fc='{@if biz.tmpId == 21005}\n<div class="tmp-21005">\n    {@if tmp.channelId == 105 && length > 1}\n    <a href="${tmp.channelUrl}" target="_blank" class="link-wrap" data-type="${pcBizType}">\n    {@else}\n    <a href="${tmp.action[0]}" target="_blank" class="link-wrap" data-type="${pcBizType}">\n    {@/if}\n        <div class="img-wrap{@if length == 1} single{@/if}">\n            <div class="item-num">${length}件</div>\n            <img src="${tmp.image.url}" onerror="this.onerror=null;this.src=\'https://img.alicdn.com/tps/TB1jveSNpXXXXcjXVXXXXXXXXXX-120-120.jpg\'">\n            <div class="b0"></div><div class="b1"></div>\n        </div>\n        <div class="text-wrap">\n            <div class="title">\n                {@if tmp.channelIcon.url}\n                <img src="${tmp.channelIcon.url}" class="channel-icon" />\n                {@/if}\n                ${tmp.floatSummary.label}\n            </div>\n            <div class="con">${tmp.floatDescrib.label}</div>\n            <div class="expand-wrap">\n                <span class="link">立即查看&gt;</span>\n            </div>\n        </div>\n    </a>\n</div>\n{@else if biz.tmpId == 20010}\n<div class="tmp-20010" data-align="${tmp.imageAlign}">\n    {@if (tmp.image && tmp.image.url)}\n    <a class="img-wrap" href="${tmp.action[0]}" target="_blank" data-type="${pcBizType}">\n        <img src="${tmp.image.url}" alt="">\n    </a>\n    {@/if}\n    <div class="content-wrap">\n        <h3 class="title">${tmp.multiTxt.title.label}</h3>\n        <a href="${tmp.action[0]}" class="content-text" target="_blank" data-type="${pcBizType}">\n            ${tmp.multiTxt.description.label}\n            <span class="link">立即查看&gt;</span>\n        </a>\n    </div>\n</div>\n{@/if}\n',Tpl.goods='<div class="goods">\n    {@each items as item, index}\n        <div class="item J_item{@if (index == 0)} active{@/if}" data-id="${item.msgId}" data-tagId="${item.tagId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n            <div class="img-wrap">\n                <a href="${item.tmp.action[0]}" target="_blank">\n                    <img d-src="${item.tmp.image.url}" data-size="145*145" alt=""/>\n                </a>\n            </div>\n            <div class="text-wrap">\n                <div class="name">\n                    <a href="${item.tmp.action[0]}" target="_blank">$${item.tmp.title.label}</a>\n                </div>\n                <div class="sales J_sales"></div>\n                <div class="price">&yen;${item.tmp.curPrice}</div>\n                <div class="mark">\n                    <a href="javascript:;" class="mark-btn J_mark" data-id="${item.msgId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n                        <i class="iconfont icon-xiangyao"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    {@/each}\n    {@if hasMore}\n        <div class="J_item item more">\n            <img src="//img.alicdn.com/tps/i3/TB1dwaYHXXXXXXIXXXXZu.vYXXX-180-100.png"/>\n            <span class="more-link J_getMore"></span>\n        </div>\n    {@else}\n        <div class="J_item item more">\n            <img src="//gtms01.alicdn.com/tps/i1/TB1vuGOHXXXXXXzXVXXVTX2IpXX-191-93.png"/>\n        </div>\n    {@/if}\n</div>\n',Tpl.goodsitem='{@each items as item, index}\n    <div class="item J_item{@if (index == 0)} active{@/if}" data-id="${item.msgId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n        <div class="img-wrap">\n            <a href="${item.tmp.action[0]}" target="_blank">\n                <img d-src="${item.tmp.image.url}" data-size="145*145" alt=""/>\n            </a>\n        </div>\n        <div class="text-wrap">\n            <div class="name">\n                <a href="${item.tmp.action[0]}" target="_blank">$${item.tmp.title.label}</a>\n            </div>\n            <div class="sales J_sales"></div>\n            <div class="price">&yen;${item.tmp.curPrice}</div>\n            <div class="mark">\n                <a href="javascript:void(0);" class="mark-btn J_mark" data-id="${item.msgId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n                    <i class="iconfont icon-xiangyao"></i>\n                </a>\n            </div>\n        </div>\n    </div>\n{@/each}\n',Tpl.guide_interest='{@each items as item, index}\n<li>\n    <span class="list-text">${item.tag.text}</span>\n    <img src="${item.tag.img}" alt="${item.tag.text}">\n</li>\n{@/each}\n',Tpl.guide_shop='{@each items as item, index}\n<li>\n    <div class="img-box"><img src="${item.shopLogo}" alt="${item.name}"></div>\n    <span class="shop-name" title="${item.name}">${item.name}</span>\n</li>\n{@/each}',Tpl.link='{@each _ as items, index}\n    <div class="item J_item{@if index == 0} active{@/if}">\n        {@each items as item}\n            <div class="link-item">\n                <a href="${item.url}" target="_blank" title="${item.name}">\n                    <img src="${item.icon}" class="link-logo" alt="${item.name}" />\n                    <p class="link-name">${item.name}</p>\n                </a>\n            </div>\n        {@/each}\n    </div>\n{@/each}',Tpl.news='<div class="news">\n    {@each items as item, index}\n        <div class="item J_item{@if (index == 0)} active{@/if}" data-id="${item.msgId}" data-biztype="${item.pcBizType}">\n            {@if item.pcBizType == 103}\n                <a href="${item.tmp.action[0]}" target="_blank">\n                    <img d-src="${item.tmp.widgetImage.url}" data-size="250*145" alt=""/>\n                </a>\n            {@else}\n                <div class="title">\n                    <a href="${item.tmp.action[0]}" target="_blank">\n                        {@if item.tmp.tag && item.tmp.tag.label}\n                            $${item.tmp.tag.label}\n                        {@/if}\n                            $${item.tmp.title.label}\n                        {@if item.tmp.keyword &&  item.tmp.keyword.label}\n                            $${item.tmp.keyword.label}\n                        {@/if}\n                    </a>\n                </div>\n                <div class="section">\n                    <div class="img-wrap">\n                        <a href="${item.tmp.action[0]}" target="_blank">\n                            <img d-src="${item.tmp.image.url}" data-size="105*105" alt=""/>\n                        </a>\n                    </div>\n                    <div class="text-wrap">\n                        <div class="name">\n                            <a href="${item.tmp.action[0]}" target="_blank">${item.tmp.description.label}</a>\n                        </div>\n                        <div class="mark">\n                            <a href="javascript:;" class="mark-btn J_mark" data-id="${item.msgId}" data-biztype="${item.pcBizType}">\n                                <i class="iconfont icon-xiangyao"></i>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            {@/if}\n        </div>\n    {@/each}\n</div>',Tpl.reminder='<div class="reminder">\n    {@each items as item, index}\n        {@if !item.cartEnd}\n            <div class="item J_item{@if (index == 0)} active{@/if}" data-id="${item.msgId}">\n                <div class="title">\n                    {@if item.tmp.channelIcon && item.tmp.channelIcon.url}<img src="${item.tmp.channelIcon.url}" alt=""/>{@/if}\n                    <span class="label">$${item.tmp.channelDescrib.label}</span>\n                    {@if item.tmp.subTitle && item.tmp.subTitle.label}$${item.tmp.subTitle.label}{@/if}\n                </div>\n                <div class="section">\n                    <div class="img-wrap">\n                        <a href="${item.tmp.action[0]}" target="_blank">\n                            <img d-src="${item.tmp.image.url}" data-size="105*105" alt=""/>\n                        </a>\n                    </div>\n                    <div class="text-wrap">\n                        <div class="name">\n                            <a href="${item.tmp.action[0]}" target="_blank">${item.tmp.title.label}</a>\n                        </div>\n\n                        {@if item.pcBizType == 104}\n                            {@if getStatus(item.tmp.beginTime, item.tmp.endTime) == 0}\n                            <div class="label">${item.tmp.describCur.label}</div>\n                            {@else if getStatus(item.tmp.beginTime, item.tmp.endTime) == -1}\n                            <div class="label">${item.tmp.describPrev.label}</div>\n                            {@else}\n                            <div class="label">${item.tmp.describPost.label}</div>\n                            {@/if}\n                        {@else}\n                            <div class="label">${item.tmp.describCur.label}</div>\n                        {@/if}\n                    </div>\n                </div>\n            </div>\n        {@else}\n            <div class="J_item item cartEnd">\n                <img class="cart-img" src="http://gtms04.alicdn.com/tps/i4/TB1IoR0GVXXXXcfXVXXuemyKFXX-150-128.png"/>\n                <div class="item-info">\n                    $${item.text}\n                </div>\n            </div>\n        {@/if}\n    {@/each}\n</div>',Tpl.shop='<div class="goods">\n    {@each items as item, index}\n        <div class="item J_item{@if (index == 0)} active{@/if}" data-id="${item.msgId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n            <div class="img-wrap">\n                <a href="${item.tmp.action[0]}" target="_blank">\n                    <img d-src="${item.tmp.image.url}" data-size="145*145" alt=""/>\n                </a>\n            </div>\n            <div class="text-wrap">\n                <div class="name">\n                    <a href="${item.tmp.action[0]}" target="_blank">${item.tmp.title.label}</a>\n                </div>\n                <div class="price">&yen;${item.tmp.curPrice}</div>\n                <div class="mark">\n                    <a href="javascript:;" class="mark-btn J_mark" data-id="${item.msgId}" data-biztype="${item.pcBizType}" data-channel="${item.biz.data.sourceCode}">\n                        <i class="iconfont icon-xiangyao"></i>\n                    </a>\n                </div>\n            </div>\n        </div>\n    {@/each}\n</div>\n',Tpl.suggest='{@each _ as item}\n    <a data-id="${item.d1}" data-py="${item.d3}" data-city="${item.d4}" title="${item.d2}">${item.d2}</a>\n{@/each}',Tpl.temp_info='<div class="temp-img" title="${weather}">\n    {@if weatherId1 != null}<img src="//g.alicdn.com/aliww/client.qintao.widget/0.1.0/images/weather/${weatherId1}.png" class="animated fadeInMinLeft J_goWeather" alt="${weather}"/>{@/if}\n</div>\n<div class="temp-text animated fadeInRightDelay">\n    <span class="J_goWeather" title="点击查看更多">\n        {@if temp1}\n            {@if temp2}\n                ${temp1} ~ ${temp2}\n            {@else}\n                ${temp1}\n            {@/if}\n        {@else if temp2}\n            ${temp2}\n        {@/if}\n    </span>\n</div>',Tpl.weather='{@if error}\n    <div class="error animated fadeIn">\n        <img src="//gtms02.alicdn.com/tps/i2/TB1omIGHpXXXXbTXpXXfi3uFXXX-140-80.png">\n        <span class="refresh J_refresh"></span>\n    </div>\n{@else}\n    {@each _ as item, index}\n    <div class="w w${parseInt(index)+1}">\n        <h4>${item.dayText}</h4>\n        <img src="//g.alicdn.com/aliww/client.qintao.widget/0.0.1/images/weather/${item.weatherId1}.png" alt="${item.weather}" title="${item.weather}"/>\n    </div>\n    {@/each}\n{@/if}',Tpl.weather_info='<div class="city" title="${city}，点击设置城市">\n    <span class="inner-city J_modifyCity">${city}</span>\n</div>\n{@if quality}<span class="air-state" title="空气质量 ${quality}">${quality}</span>{@/if}\n{@if aqi}<span class="pm" title="PM2.5 ${aqi}">${aqi}</span>{@/if}',function(a){a.Util={toastTimeout:null,toast:function(a,b){if(a){b&&b[0]||(b=$(document.body));var c=$(".toast");c.length?(clearTimeout(this.toastTimeout),c.find(".inner").html(a)):(b.append('<div class="toast fadeInDown qt-layer"><span class="inner">'+a+"</span></div>"),c=$(".toast")),this.toastTimeout=setTimeout(function(){c.removeClass("fadeInDown").addClass("fadeOutDown"),c.one("webkitAnimationEnd",function(){c.remove()})},2e3)}},parseJSON:function(a,b,c){if("boolean"==typeof a)return a;if("object"==typeof a)return a;if(!a)return b?{}:null;try{c&&(a=a.replace(/(?!\\?"[\w\d-]+\\?":\s?)(\d{17,30})(?=\s?(,|}))/g,'"$1"')),a=JSON.parse(a)}catch(d){console.log("%cERROR: in util.parseJSON","color:red;",a),a={}}return a},getParam:function(a){var b={};if(a){var c=a.split("&");c.forEach(function(a){var c=a.split("=");b[c[0]]=c[1]})}return b},parseParam:function(a){a=a||location.search;var b=a.split(/[?&]/),c={};return b.forEach(function(a){if(a){var b=a.split("=");c[b[0]]=b[1]?decodeURIComponent(b[1]):b[1]}}),c},compareVersion:function(a,b){return parseFloat(a.replace(".",""))-parseFloat(b.replace(".",""))},glog:function(b,c){window.wwGoldlog&&("string"==typeof c&&(c=a.Util.parseParam(c)),wwGoldlog.record(b,a.Variable.nick||"",c))}}}(window.U||(window.U={})),function(a){function b(a,c,d){if("[object Object]"==Object.prototype.toString.call(d))for(var e in d)c[e]?(!a[e]&&(a[e]={}),b(a[e],c[e],d[e])):console.error(c+"下没有"+e+"属性!");else"[object Array]"==Object.prototype.toString.call(d)&&d.forEach(function(d){return"string"==typeof d?function(b,c){a[c]=function(a){var d=$.Deferred();return window.DEBUG&&console.log("%cCALL","color:#999;",c,a),b[c](a,function(a){console.log(Array.prototype.slice.apply(arguments)),d.resolve(a)},function(a){console.log(Array.prototype.slice.apply(arguments)),d.reject(a)}),d}}(c,d):void b(a,c,d)})}var c={widget:["OpenMainPanel","HideWidget","GetUnreadInfo","SetOneInfoReaded","SetAllInfoReaded","WebUICompleted","SetWidgetMode","GetMoreInfo","GetUnreadGoodsByTag","ShowNewHandGuide","SetData","GetData","ShowSkinWnd","ChangeSkin","OpenChatFrame","LoginAndOpenChatFrame","GetUnreadMsgNum",{weather:["GetWeatherInfo","GetSearchCityResult","SetCity"],link:["GetCommonLinkInfo"],news:["modify_mark_info"],goods:["modify_mark_info"],subscibe:["get_subscibe_category_list"]}],mainpanel:[{subscibe:["get_subscibe_my_category_list"],shop:["GetShopList"]}],util:["GetVersion","GetUserNick","PerfBegin","PerfEnd"],operation:["GetOperationInfo"],subsinit:[{subscibe:["get_subscibe_init_infos"]}],chat:[{contact:["GetCUState"]}],webpipe:["InvokeAnotherWeb"]};a.Jssdk={init:function(){window.QT&&(window.QT.apiAdaptor&&QT.apiAdaptor(c),b(this,QT,c))},ajax:function(b,c){var d=$.Deferred();c=c||"QintaoRequest";var e=b.param;e=a.Constants.IS_DAILY?e?_.extend(e,{daily:1}):{daily:1}:e,_.each(e,function(a,b){"number"==typeof a&&(e[b]=a+"")}),b.param=e,b.method=b.method||"get","QintaoRequest"===c&&(b.url=a.Constants.HTTP_HOST[~~!a.Constants.IS_DAILY]+b.url);var f=+new Date;return window.DEBUG&&console.log("%cCALL AJAX","color:#999;",b),QT.ajax(_.extend(b,{success:function(b){var c=+new Date,e=a.Util.parseJSON(b);e&&e.success&&"false"!==e.success?(e.module=a.Util.parseJSON(e.module),console.log("%cQT.AJAX SUCCESS","color:green;",b,this.config.url,this.param,c-f),d.resolve(e.module)):(console.log("%cQT.AJAX ERROR","color:red;",b,this.config.url,this.param,c-f),d.reject(b))},failure:function(a){var b=+new Date;console.log("%cQT.AJAX ERROR","color:red;",a,this.config.url,this.param,b-f),d.reject.apply(this,arguments)},timeout:function(a){var b=+new Date;console.log("%cQT.AJAX TIMEOUT","color:orange;",a,this.config.url,this.param,b-f),d.reject.apply(this,arguments)}}),c||"QintaoRequest"),d.promise()},getVersion:function(){var b=$.Deferred();return window.VERSION?b.resolve(window.VERSION):a.Jssdk.util.GetVersion().done(function(a){window.VERSION=a,b.resolve(a)}).fail(function(){b.resolve("1.60.00U")}),b.promise()}}}(window.U||(window.U={})),function(a,b){$(function(){function c(a){var c=a[0];c.length=a.length,e.html(d.render(c)),b.glog("qintao.15.8",{type:c.pcBizType}),$(document).on("click","a[data-type]",function(){20010===c.biz.tmpId&&b.glog("qintao.11.1019.1"),b.glog("qintao.15.9",{type:c.pcBizType})})}var d=juicer(Tpl.fc),e=$("#J_fcWrap");a.init(),U.Variable||(U.Variable={}),a.util.GetUserNick().done(function(a){U.Variable.nick=a,b.glog("qintao.4.1.1.2")}),a.operation.GetOperationInfo().done(function(a){a&&a.rawdata&&a.rawdata.length&&c(a.rawdata)}),$(document).on("click","a",function(c){var d=this.getAttribute("href");if(/^qintao:\/\//.test(d)){c.preventDefault();var e="#"+d.substring(8);a.getVersion().then(function(c){b.compareVersion(c,"1.80.00U")>=0?a.webpipe.InvokeAnotherWeb({webName:"WebName_Mainframe",forceCreateWnd:1,showWnd:1,bringWndToTop:1,urlParam:"hash="+encodeURIComponent(e),webParam:JSON.stringify({hash:encodeURIComponent(e),cmd:"navigate",from:"WebName_FloatNotify",target:"WebName_Mainframe"})}):a.widget.OpenMainPanel({tabName:e})})}setTimeout(function(){try{workbench.hostWindow.close()}catch(a){}},2e3)})})}(U.Jssdk,U.Util);